<div class="px-4">
  <h1 class="pb-3"><%=@meeting.name %></h1>
  <div class="px-4">
    <p><span style="color: #A380BD"><%=render 'shared/small_meeple'%></span> <%= @meeting.user.email %></p>

    <div class="d-flex justify-content-start">
      <p><%= link_to(boardgame_path(@meeting.boardgame)) do %><%= @meeting.boardgame.name %></p>
      <% if @meeting.user_is_owner %>
        <p style="color: #A380BD"><i class="fa fa-solid fa-check px-1"></i><%= '(host owns this boardgame)' %></p>
      <% else %>
        <p style="color: #A380BD"><i class="fa-solid fa-xmark-large px-1"></i><%= "(host doesn't own this boardgame)" %></p>
      <% end %>
    </div>
    <div class="text-center pb-4">
      <%= cl_image_tag @meeting.boardgame.photo.key, width: '75%', class: 'game-photo my-4'%>
    </div>
    <% end %>
    <div class="d-flex justify-content-between px-3">
      <p><i class="fa fa-solid fa-map-pin" style="color: #A380BD"></i> <%= @meeting.address %></p>
      <p><i class="fa fa-regular fa-calendar" style="color: #A380BD"></i> <%= @meeting.start_date %></p>
    </div>
    <div class="text-center">
      <p>waiting for <%= @meeting.players_wanted %> players</p>
        <% @meeting.users.each do |user| %>
         <%= user.email %>
        <% end %>
    </div>
    <div class="text-justify pt-3">
      <p style="color: #A380BD" class="mb-0">comments:</p>
      <p style="color: #BBBBBB; text-align: justify" ><%= @meeting.description%></p>
    </div>
      <% unless @meeting.users.find_by(id: current_user.id).present? %>
        <div class="d-flex justify-content-center py-3">
          <%= simple_form_for [@meeting, @user_meeting] do |f| %>
            <%= f.submit "join", class: "a_btn" %>
          <% end %>
        </div>
      <% end %>
      <% if policy(@meeting).edit? %>
        <div class="d-flex justify-content-center py-3">
          <%= link_to 'edit', edit_meeting_path(@meeting), class:'b_btn' %>
        </div>
      <% end %>
      <% if policy(@meeting).destroy? %>
        <div class="d-flex justify-content-center py-3">
          <%= link_to 'cancel meeting', meeting_path(@meeting), method: :delete, data: { confirm: 'Are you sure?' }, class: 'b_btn' %>
        </div>
      <% end %>
      <% if @user_meeting.present? %>
        <% if policy(@user_meeting).destroy? %>
          <div class="d-flex justify-content-center py-3">
            <%= link_to 'leave meeting', user_meeting_path(@user_meeting), method: :delete, data: { confirm: 'Are you sure?' }, class: 'b_btn' %>
          </div>
        <% end %>
      <% end %>
    <%# TODO: Add if-statement to make sure button only shows up for people in the meeting %>
    <div class="d-flex justify-content-center py-3">
      <%= link_to 'chat', "#", class:'a_btn' %>
    </div>
    <div class="d-flex justify-content-center py-3">
      <%= link_to 'back', meetings_path, class:'b_btn' %>
    </div>
  </div>
</div>
